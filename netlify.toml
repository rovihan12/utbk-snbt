[build]
  publish = "public"
  functions = "netlify/functions"
  command = """
    # Download dan ekstrak Hugo
    wget -q https://github.com/gohugoio/hugo/releases/download/v0.124.1/hugo_extended_0.124.1_linux-amd64.tar.gz -O /tmp/hugo.tar.gz
    tar -xzf /tmp/hugo.tar.gz -C /tmp
    
    # Jalankan Hugo
    /tmp/hugo --minify
  """

[build.environment]
  # Environment variables
  GA_MEASUREMENT_ID = "G-MCE25KHW7V"
  ADMOB_SECRET_KEY = "your-admob-secret-key-here"  # ⚠️ JANGAN COMMIT YANG ASLI!

[[redirects]]
  from = "/verify-reward"
  to = "/.netlify/functions/verify-reward"
  status = 200

# Route khusus untuk AdMob callback
[[redirects]]
  from = "/admob/callback"
  to = "/.netlify/functions/admob-callback"
  status = 200

# Security headers
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
